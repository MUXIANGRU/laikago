<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Xenomai: Asynchronous Procedure Calls</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Xenomai"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Xenomai
   &#160;<span id="projectnumber">3.0.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__cobalt__core__apc.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Asynchronous Procedure Calls<div class="ingroups"><a class="el" href="group__cobalt.html">Cobalt</a> &raquo; <a class="el" href="group__cobalt__core.html">Cobalt kernel</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Services for scheduling function calls in the Linux domain.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for Asynchronous Procedure Calls:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__cobalt__core__apc.png" border="0" alt="" usemap="#group____cobalt____core____apc"/>
<map name="group____cobalt____core____apc" id="group____cobalt____core____apc">
<area shape="rect" id="node2" href="group__cobalt__core.html" title="The Cobalt core is a co&#45;kernel which supplements the Linux kernel for delivering real&#45;time services w..." alt="" coords="5,13,104,39"/>
</map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga111c4f1e3e9eadebd40647ee535cdec0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cobalt__core__apc.html#ga111c4f1e3e9eadebd40647ee535cdec0">xnapc_alloc</a> (const char *name, void(*handler)(void *cookie), void *cookie)</td></tr>
<tr class="memdesc:ga111c4f1e3e9eadebd40647ee535cdec0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate an APC slot.  <a href="#ga111c4f1e3e9eadebd40647ee535cdec0">More...</a><br /></td></tr>
<tr class="separator:ga111c4f1e3e9eadebd40647ee535cdec0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga77b53884ecc91136d7a93ec41403fbd1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cobalt__core__apc.html#ga77b53884ecc91136d7a93ec41403fbd1">xnapc_free</a> (int apc)</td></tr>
<tr class="memdesc:ga77b53884ecc91136d7a93ec41403fbd1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases an APC slot.  <a href="#ga77b53884ecc91136d7a93ec41403fbd1">More...</a><br /></td></tr>
<tr class="separator:ga77b53884ecc91136d7a93ec41403fbd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga204f0ffc43a2c88a7807e34c777554ce"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cobalt__core__apc.html#ga204f0ffc43a2c88a7807e34c777554ce">xnapc_schedule</a> (int apc)</td></tr>
<tr class="memdesc:ga204f0ffc43a2c88a7807e34c777554ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Schedule an APC invocation.  <a href="#ga204f0ffc43a2c88a7807e34c777554ce">More...</a><br /></td></tr>
<tr class="separator:ga204f0ffc43a2c88a7807e34c777554ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Services for scheduling function calls in the Linux domain. </p>
<p>APC is the acronym for Asynchronous Procedure Call, a mean by which activities from the Xenomai domain can schedule deferred invocations of handlers to be run into the Linux domain, as soon as possible when the Linux kernel gets back in control.</p>
<p>Up to BITS_PER_LONG APC slots can be active at any point in time.</p>
<p>APC support is built upon the interrupt pipeline's virtual interrupt support. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga111c4f1e3e9eadebd40647ee535cdec0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga111c4f1e3e9eadebd40647ee535cdec0">&#9670;&nbsp;</a></span>xnapc_alloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xnapc_alloc </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void *cookie)&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cookie</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate an APC slot. </p>
<p>APC is the acronym for Asynchronous Procedure Call, a mean by which activities from the Xenomai domain can schedule deferred invocations of handlers to be run into the Linux domain, as soon as possible when the Linux kernel gets back in control. Up to BITS_PER_LONG APC slots can be active at any point in time. APC support is built upon the interrupt pipeline's virtual interrupt support.</p>
<p>Any Linux kernel service which is callable from a regular Linux interrupt handler is in essence available to APC handlers.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>is a symbolic name identifying the APC which will get reported through the /proc/xenomai/apc interface. Passing NULL to create an anonymous APC is allowed.</td></tr>
    <tr><td class="paramname">handler</td><td>The address of the fault handler to call upon exception condition. The handle will be passed the <em>cookie</em> value unmodified.</td></tr>
    <tr><td class="paramname">cookie</td><td>A user-defined opaque pointer the APC handler receives as its sole argument.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a valid APC identifier is returned upon success, or a negative error code otherwise:</dd></dl>
<ul>
<li>-EINVAL is returned if <em>handler</em> is invalid.</li>
<li>-EBUSY is returned if no more APC slots are available.</li>
</ul>
<dl class="section user"><dt>Tags</dt><dd><a class="el" href="group__cobalt__core.html">unrestricted</a> </dd></dl>

</div>
</div>
<a id="ga77b53884ecc91136d7a93ec41403fbd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga77b53884ecc91136d7a93ec41403fbd1">&#9670;&nbsp;</a></span>xnapc_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xnapc_free </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>apc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Releases an APC slot. </p>
<p>This service deallocates an APC slot obtained by <a class="el" href="group__cobalt__core__apc.html#ga111c4f1e3e9eadebd40647ee535cdec0" title="Allocate an APC slot. ">xnapc_alloc()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">apc</td><td>The APC id. to release, as returned by a successful call to the <a class="el" href="group__cobalt__core__apc.html#ga111c4f1e3e9eadebd40647ee535cdec0" title="Allocate an APC slot. ">xnapc_alloc()</a> service.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Tags</dt><dd><a class="el" href="group__cobalt__core.html">unrestricted</a> </dd></dl>

</div>
</div>
<a id="ga204f0ffc43a2c88a7807e34c777554ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga204f0ffc43a2c88a7807e34c777554ce">&#9670;&nbsp;</a></span>xnapc_schedule()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static inline int xnapc_schedule </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>apc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Schedule an APC invocation. </p>
<p>This service marks the APC as pending for the Linux domain, so that its handler will be called as soon as possible, when the Linux domain gets back in control.</p>
<p>When posted from the Linux domain, the APC handler is fired as soon as the interrupt mask is explicitly cleared by some kernel code. When posted from the Xenomai domain, the APC handler is fired as soon as the Linux domain is resumed, i.e. after Xenomai has completed all its pending duties.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">apc</td><td>The APC id. to schedule.</td></tr>
  </table>
  </dd>
</dl>
<p>This service can be called from:</p>
<ul>
<li>Any domain context, albeit the usual calling place is from the Xenomai domain. </li>
</ul>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
